---
import type { Producto } from "../../types/General.type";
import CompartirBTN from "../asistente/CompartirBTN.astro";
import AddToCart from "./AddToCart";

interface Props {
  producto: Producto;
  css?: string;
}

const { producto, css = "w-40" } = Astro.props as Props;
---

<section
  class={`bg-neutral-200 rounded-xl p-1 ${css} flex flex-col justify-between relative`}
>
<CompartirBTN alias={producto.alias}/>
  <a href={`/productos/${producto.alias}`}>
    <img
      transition:name={`producto-${producto.id}`}
      transition:animate="initial"
      class="w-full aspect-square rounded-xl object-cover"
      src={`${import.meta.env.PUBLIC_VITE_BACKEND_URL}/images/productos/${producto.image}`}
      alt={producto.nombre}
    />
    <h2 class="font-bold ml-2 my-2">{producto.nombre}</h2>
  </a>
  <div class="flex justify-between">
    <h2 class="font-bold text-xl flex items-center gap-1">
      {Number(producto.price_usd).toFixed(2)}
      <span class="text-xs font-semibold text-neutral-600 mt-3">USD</span>
    </h2>
    <AddToCart producto={producto} client:visible />


  </div>
</section>
