---
import CategoriaHome from "../../components/categoriasHome/CategoriaHome.astro";
import SelectorCategoriasModulo from "../../components/selectorCategorias/SelectorCategoriasModulo.astro";
import PrincipalLayaout from "../../layouts/PrincipalLayaout.astro";
import { productos } from "../../productos";

export function getStaticPaths() {
  return productos.map((c) => ({
    params: { id_producto: c.id },
  }));
}

interface Props {
  id_producto: number;
}

const { id_producto } = Astro.params;

const productoEncontrado = productos.find(
  (producto) => producto.id == id_producto
);
---

<PrincipalLayaout title={productoEncontrado?.nombre ?? ""} description={productoEncontrado?.description ?? ""}>
  <section class="bg-neutral-200 p-3 mt-5">
    <img
      class="w-full h-full rounded-xl object-cover mb-5"
      src={`/images/productos/${productoEncontrado?.image}`}
      alt={productoEncontrado?.nombre}
    />
    <div class="flex justify-between items-center">
      <h2 class="font-bold text-3xl">{productoEncontrado?.nombre}</h2>
      <h2 class="font-semibold text-3xl">
        {productoEncontrado?.precio}
        <span class="text-xs font-semibold text-neutral-600 mt-3">USD</span>
      </h2>
    </div>
    <h2 class="font-semibold text-neutral-400 text-sm">Descripci√≥n</h2>
    <p>{productoEncontrado?.description}</p>
  </section>
  <div class="flex justify-center items-center gap-5 mt-5">
    <button class="bg-green-500 text-white font-bold text-2xl rounded-xl p-2"
      >Agregar</button
    >
    <button class="bg-neutral-500 size-12 rounded-xl">-</button>
    <button class="bg-green-500 size-12 rounded-xl"
      ><h2 class="text-white text-5xl">+</h2></button
    >
  </div>
  <SelectorCategoriasModulo />
    <CategoriaHome categoria="Granos"/>

</PrincipalLayaout>
