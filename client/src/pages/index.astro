---
import PrincipalLayaout from "../layouts/PrincipalLayaout.astro";
import BarraCarrito from "../components/barraCarrito/BarraCarrito";
import Modulos from "../components/Modulos.astro";
import Asistente from "../components/asistente/Asistente.astro";
import SugerirProductos from "../components/sugerir/SugerirProductos";
import DestacadoModulo from "../components/destacados/DestacadoModulo.astro";
import type { Producto } from "../types/General.type";


const response = await fetch(
  `${import.meta.env.PUBLIC_VITE_BACKEND_URL}/api/productos`
);


const productos = (await response.json()) as Producto[];
---

<PrincipalLayaout
  title="Inicio"
  description="La Emiliana tienda de productos alimenticios"
  img_url="favicons/web-app-manifest-512x512.png"
  url="https://www.tiendalaemiliana.com"
>
  <DestacadoModulo productos={productos}  />
  <SugerirProductos client:only />
  <Modulos productos={productos}  />
  <BarraCarrito client:visible />
  <Asistente />
</PrincipalLayaout>
